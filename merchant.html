  
  <div >
    <div >
      <div id="pageload">
          <h3>All Merchant</h3>
      </div>
          <div class="card">
            <table class="centertabledashboard">
              <thead>
                <tr>
                    <th>ID</th>
                    <th>Name</th>
                    <th></th>
                </tr>
              </thead>
              <tbody id="databody">
                <tr>
                    <td id="_id">##tempdata-id##</td>
                    <td id="status">##tempdata-name##</td>
                    <td id="status">
                        <span>
                          <a id="editting" onclick="go2View('edit'+'?id=' + '##tempdata-id##')">
                            <svg class="bi bi-person-fill" margin width="1.5em" height="1.5em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg" >
                              <path fill-rule="evenodd" d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 100-6 3 3 0 000 6z" clip-rule="evenodd"/>
                            </svg>
                        </a>
                        </span>
                    </td>
                </tr>
              </tbody>
            </table>
          </div>
      </div>
    </div>
  </div>
</div>

<script>
  var templatesRows = $('#databody').html();
  var token;
  var currentDate = Math.floor(Date.now()/1000)
  // var merchantpage = getParameterByName('?')
  // console.log("path merchant",merchantpage) 
  // if(dataGetMerchant) {
  //   var temp = hash_replace(templatesRows, 'tempdata', dataGetMerchant)
  //   $('#databody').html((temp));
  // } else {
  //   $('#databody').html('<tr><td colspan="100%">Empty!!</td></tr>');
  // }

  
    console.log('hello')
    Service.getMerchant()
      .then(response => {
        console.log(response);
        token = response.access_token;
        var decoded = jwt_decode(token);
        console.log(decoded.exp)
        console.log(currentDate)
        // if(currentDate = decoded.exp) {
        //   localStorage.setItem('access_token',response.access_token);
        // }
        if(response) {
            dataGetMerchant = response.data;
            var temp = hash_replace(templatesRows, 'tempdata', dataGetMerchant)
            $('#databody').html((temp));
            return dataGetMerchant;
        } else {
            $('#databody').html('<tr><td colspan="100%">Empty!!</td></tr>');
        }
      })
      .catch(error => {
        console.log(error);
      })
  
    

  //getusermerchant
    // Service.getMerchant()
    //   .then(response => {
    //     console.log(response);
    //     if(response.access_token) {
    //       console.log('save token')
    //       window.localStorage.setItem('access_token',response.access_token);
    //     }
    //     if(response.data.length >= 1) {
    //         dataGetMerchant = response.data;
    //         var temp = hash_replace(templatesRows, 'tempdata', dataGetMerchant)
    //         $('#databody').html((temp));
    //     } else {
    //         $('#databody').html('<tr><td colspan="100%">Empty!!</td></tr>');
    //     }
    //   })
    //   .catch(error => {
    //     console.log(error);
    //   })
</script>




  
    
    